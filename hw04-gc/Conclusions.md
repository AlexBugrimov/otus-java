# Результаты работы сборщиков мусора

## G1
Опции JVM:
```-Xms256m -Xmx256m -XX:+UseG1GC```

### Результаты работы 
Сборщик | Минута | Количество сборок | Время сборок (мс.)
------- | ------------ | ----------------- | ----------------
G1 Young Generation | 1 | 2 | 59
G1 Old Generation   | 1 | 0 | 0
G1 Young Generation | 2 | 15| 357
G1 Old Generation   | 2 | 0 | 0
G1 Young Generation | 3 | 17| 345
G1 Old Generation   | 3 | 9 | 1119

До OutOfMemory: 
G1 Young Generation - 34 сборки, 761ms
G1 Old Generation - 9 сборок, 1119ms

## Parallel
Опции JVM:
```-Xms256m -Xmx256m -XX:+UseParallelGC```
    
### Результаты работы 
Сборщик | Минута | Количество сборок | Время сборок, (мс.)
------- | ------------ | ----------------- | ----------------
PS Scavenge (young) | 1 | 2 | 108
PS MarkSweep (old)  | 1 | 0 | 0
PS Scavenge (young) | 2 | 2 | 223
PS MarkSweep (old)  | 2 | 19 | 6493

До OutOfMemory:  
* PS Scavenge (young) - 4 сборки, 331мс
* PS MarkSweep (old) - 19 сборок, 6493мс

## Вывод:
G1 работает дольше Parallel на 1-1,5 минуты. Сборки у G1 осуществляются часто и равномерно, о чем говорит количество запусков GC.
(Young Generation - 34 сборки, G1 Old Generation - 9 сборок) В среднем Young сборка у G1 выполняется около 22,3ms, а Old - 124,3ms.
Это говорит о том что G1 работает "равномерно" (делает кратковременные сборки мусора) и позволяет приложению дольше функционировать (до падения) 
и меньше времени занимают сборка мусора (если суммировать общее время при сборках мусора Young и Old - 1880ms).
Parallel, в начале работы приложения, работал эффективно, так же как и G1. Но с увеличением дефицита памяти, GC работает все дольше и дольше.
Об это говорят средние значения: young сборки - 82,7ms, old - 341,7ms. Если суммировать общее время работы GC Parallel, то это
6824ms за 2 минуты работы приложения до падения по OutOfMemory
В итоге G1 работает эффективнее чем Parallel, позволяя приложению работать с хорошей производительностью за счет того что тратится меньше времени на сборки мусора.
Тем самым, желательно по-умолчанию использовать именно G1